# 🐉 《Flufffall》第10层 Boss 设计文档（V1.2）

> **设计目标**：  
> - 提供高难度挑战，确保普通玩家需通过熟练度和等级提升才能通关  
> - 隐藏 Build 触发时提供“神迹时刻”的爽感闭环  
> - 行为树设计兼顾策略性与视觉反馈  

---

## 一、Boss 总览

### 名称：**梦境守护者·夜影巨龙**

- **定位**：最终关卡 Boss，象征梦境的终极挑战  
- **外观**：巨大的黑色毛绒龙，带有星空花纹，眼睛闪烁着彩虹光芒  
- **背景故事**：守护梦境深处的秘密，只有真正觉醒的勇者才能战胜它  

### 数值表（普通模式 vs 隐藏 Build 模式）

| 属性 | 普通模式 | 隐藏 Build 模式 |
|------|----------|----------------|
| 生命值 | 15,000 | 9,000 (秒杀机制) |
| 攻击力 | 80 | 100 |
| 护甲 | 20% | 20% |
| 移动速度 | 2格/s | 2格/s |
| 回血速率 | 每5秒恢复5%生命值 | 每5秒恢复5%生命值 |

---

## 二、Boss 行为树设计

### 1. **基础行为模式**

#### A. **攻击模式**
- **普通攻击**：每3秒一次，对前方扇形区域造成范围伤害（60°，半径3格）
  - **伤害**：80点物理伤害
  - **视觉效果**：喷射星光火焰，伴随音效“轰！”
  
- **技能1：星尘风暴**
  - **冷却时间**：15秒
  - **触发条件**：当Boss生命值降至75%、50%、25%时
  - **效果**：召唤持续5秒的星尘风暴，每秒对周围敌人造成40点魔法伤害，并降低移速30%
  - **视觉效果**：周围生成旋转的星尘旋风，伴随音效“呼呼~”

- **技能2：梦境吞噬**
  - **冷却时间**：30秒
  - **触发条件**：随机选择一名玩家，标记其为目标
  - **效果**：在标记后5秒内，若未打断，则造成150点真实伤害，并使目标眩晕3秒
  - **视觉效果**：目标头顶出现紫色漩涡，伴随音效“嗡嗡~”

- **技能3：星辰之怒**
  - **冷却时间**：45秒
  - **触发条件**：当Boss生命值降至50%时
  - **效果**：召唤3颗追踪流星，每颗流星造成120点魔法伤害
  - **视觉效果**：天空中出现流星雨，流星自动追踪玩家，伴随音效“嗖嗖嗖！”

#### B. **防御模式**
- **回血机制**：每5秒恢复5%最大生命值，直到战斗结束或被击败
- **护盾机制**：每隔30秒，Boss会获得一个持续10秒的护盾，吸收200点伤害
  - **视觉效果**：Boss周围出现蓝色光罩，伴随音效“叮！”

---

### 2. **隐藏 Build 触发时的行为变化**

- **秒杀机制**：当玩家成功解锁隐藏完全体（Lv.5），普攻或特定技能可直接秒杀Boss
  - **演出效果**：Boss发出痛苦的咆哮声，全身闪烁彩虹光芒，随后化作星星消散
  - **台词**：“你已超越梦境……”（Boss死亡台词）

- **技能削弱**：即使未触发秒杀，隐藏 Build 的技能也会有以下变化：
  - **普通攻击**：伤害减至50点
  - **星尘风暴**：伤害减至20点/秒，持续时间缩短至3秒
  - **梦境吞噬**：伤害减至100点，眩晕时间缩短至2秒
  - **星辰之怒**：流星数量减少至2颗，伤害减至80点/颗

---

## 三、Boss 战术分析

### 1. **普通玩家应对策略**
- **分担伤害**：由于Boss具有回血机制，团队需尽量集中火力，避免分散输出
- **打断关键技能**：重点关注“梦境吞噬”，必须及时打断以避免高额真实伤害
- **注意躲避**：合理利用地形躲避“星辰之怒”和“星尘风暴”的范围伤害

### 2. **隐藏 Build 玩家应对策略**
- **秒杀时机**：隐藏 Build 触发后，优先使用最强技能（如“宇宙Remix”、“永动大雪崩”）进行秒杀
- **快速清屏**：即使未触发秒杀，隐藏 Build 的技能也能大幅削弱Boss，保持高输出节奏
- **协同作战**：双人合作时，可通过Combo进一步增强输出（如“连锁雷爆”+“塔喵快递”）

---

## 四、开发建议

### 1. **AI 实现**
- **状态机设计**：Boss分为“普通攻击”、“技能释放”、“回血”、“护盾”四种状态，根据当前生命值和时间切换状态
- **动画同步**：每个技能释放时，需同步播放对应动画和音效，确保流畅体验
- **性能优化**：技能特效使用对象池复用，减少内存占用

### 2. **测试计划**
- **平衡性测试**：确保普通玩家需通过熟练度和等级提升才能通关，避免过难或过易
- **隐藏 Build 测试**：验证隐藏 Build 触发时的秒杀效果和技能削弱是否符合预期
- **多人协作测试**：双人合作时，需测试Combo触发频率和协同作战的流畅度

---

> **一句话 Boss 设计哲学**：  
> **“不是单纯的数值堆砌，而是梦与现实的终极对决。”**